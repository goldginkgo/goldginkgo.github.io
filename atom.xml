<?xml version="1.0" encoding="utf-8"?>
<feed xmlns="http://www.w3.org/2005/Atom">
  <title>Frank&#39;s Blog</title>
  
  <subtitle>Will Code For Food</subtitle>
  <link href="/atom.xml" rel="self"/>
  
  <link href="http://goldginkgo.github.io/"/>
  <updated>2018-12-04T00:24:03.249Z</updated>
  <id>http://goldginkgo.github.io/</id>
  
  <author>
    <name>Frank Dai</name>
    
  </author>
  
  <generator uri="http://hexo.io/">Hexo</generator>
  
  <entry>
    <title>Setup Kubernetes with kubeadm in CentOS VMs</title>
    <link href="http://goldginkgo.github.io/2018/11/03/Setup-K8S-with-kubeadm-in-CentOS-VMs/"/>
    <id>http://goldginkgo.github.io/2018/11/03/Setup-K8S-with-kubeadm-in-CentOS-VMs/</id>
    <published>2018-11-03T11:09:30.000Z</published>
    <updated>2018-12-04T00:24:03.249Z</updated>
    
    <content type="html"><![CDATA[<p>Here is a guide on how to setup Kubernetes on two CentOS 7 VMs (master and node).<br><a id="more"></a></p><h3 id="Stop-firewall-selinux-both"><a href="#Stop-firewall-selinux-both" class="headerlink" title="Stop firewall/selinux (both)"></a>Stop firewall/selinux (both)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">sed -i &apos;s/SELINUX=enforcing/SELINUX=disabled/g&apos; /etc/selinux/config</span><br></pre></td></tr></table></figure><h3 id="Ensure-swap-is-off-both"><a href="#Ensure-swap-is-off-both" class="headerlink" title="Ensure swap is off (both)"></a>Ensure swap is off (both)</h3><p>Add comment in fstab<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">#/dev/mapper/centos-swap swap                    swap    defaults        0 0</span><br></pre></td></tr></table></figure></p><p>Execute <code>swapoff -a</code>.</p><h3 id="Enable-IP-forwarding-or-iptables-both"><a href="#Enable-IP-forwarding-or-iptables-both" class="headerlink" title="Enable IP forwarding or iptables. (both)"></a>Enable IP forwarding or iptables. (both)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;EOF &gt;  /etc/sysctl.d/k8s.conf</span><br><span class="line">net.bridge.bridge-nf-call-ip6tables = 1</span><br><span class="line">net.bridge.bridge-nf-call-iptables = 1</span><br><span class="line">EOF</span><br><span class="line">sysctl --system</span><br></pre></td></tr></table></figure><h3 id="Install-Docker-both"><a href="#Install-Docker-both" class="headerlink" title="Install Docker (both)"></a>Install Docker (both)</h3><p>Reference: <a href="https://docs.docker.com/install/linux/docker-ce/centos/" target="_blank" rel="noopener">https://docs.docker.com/install/linux/docker-ce/centos/</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line"># sudo yum install -y yum-utils device-mapper-persistent-data lvm2</span><br><span class="line"># sudo yum-config-manager --add-repo https://download.docker.com/linux/centos/docker-ce.repo</span><br><span class="line"># sudo yum install -y docker-ce</span><br><span class="line"># sudo systemctl start docker</span><br><span class="line"># sudo systemctl enable docker</span><br></pre></td></tr></table></figure></p><h3 id="Installing-kubeadm-kubelet-and-kubectl-both"><a href="#Installing-kubeadm-kubelet-and-kubectl-both" class="headerlink" title="Installing kubeadm, kubelet and kubectl (both)"></a>Installing kubeadm, kubelet and kubectl (both)</h3><p>Reference: <a href="https://kubernetes.io/docs/setup/independent/install-kubeadm/" target="_blank" rel="noopener">https://kubernetes.io/docs/setup/independent/install-kubeadm/</a><br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br></pre></td><td class="code"><pre><span class="line">cat &lt;&lt;EOF &gt; /etc/yum.repos.d/kubernetes.repo</span><br><span class="line">[kubernetes]</span><br><span class="line">name=Kubernetes</span><br><span class="line">baseurl=https://packages.cloud.google.com/yum/repos/kubernetes-el7-x86_64</span><br><span class="line">enabled=1</span><br><span class="line">gpgcheck=1</span><br><span class="line">repo_gpgcheck=1</span><br><span class="line">gpgkey=https://packages.cloud.google.com/yum/doc/yum-key.gpg https://packages.cloud.google.com/yum/doc/rpm-package-key.gpg</span><br><span class="line">exclude=kube*</span><br><span class="line">EOF</span><br><span class="line">setenforce 0</span><br><span class="line">yum install -y kubelet kubeadm kubectl --disableexcludes=kubernetes</span><br><span class="line">systemctl enable kubelet &amp;&amp; systemctl start kubelet</span><br></pre></td></tr></table></figure></p><h3 id="Initializing-master-node-master"><a href="#Initializing-master-node-master" class="headerlink" title="Initializing master node (master)"></a>Initializing master node (master)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">kubeadm init</span><br><span class="line"></span><br><span class="line">mkdir -p $HOME/.kube</span><br><span class="line">sudo cp -i /etc/kubernetes/admin.conf $HOME/.kube/config</span><br><span class="line">sudo chown $(id -u):$(id -g) $HOME/.kube/config</span><br><span class="line"></span><br><span class="line">export KUBECONFIG=/etc/kubernetes/admin.conf</span><br></pre></td></tr></table></figure><h3 id="Installing-a-pod-network-add-on-master-Wave-Net"><a href="#Installing-a-pod-network-add-on-master-Wave-Net" class="headerlink" title="Installing a pod network add-on (master)  (Wave Net)"></a>Installing a pod network add-on (master)  (Wave Net)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br></pre></td><td class="code"><pre><span class="line">sysctl net.bridge.bridge-nf-call-iptables=1</span><br><span class="line">kubectl apply -f &quot;https://cloud.weave.works/k8s/net?k8s-version=$(kubectl version | base64 | tr -d &apos;\n&apos;)&quot;</span><br><span class="line">kubectl get pods --all-namespaces</span><br></pre></td></tr></table></figure><h3 id="Joining-your-nodes-node"><a href="#Joining-your-nodes-node" class="headerlink" title="Joining your nodes(node)"></a>Joining your nodes(node)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubeadm join &lt;master-ip&gt;:6443 --token zt5yjr.zutab0w4uczftlm8 --discovery-token-ca-cert-hash sha256:a34dc33567e0e169cdc0366303fb409d030dfd01602973ae482e9ef4969f2962</span><br></pre></td></tr></table></figure><h3 id="Dashboard-master"><a href="#Dashboard-master" class="headerlink" title="Dashboard (master)"></a>Dashboard (master)</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">kubectl apply -f https://raw.githubusercontent.com/kubernetes/dashboard/master/src/deploy/recommended/kubernetes-dashboard.yaml</span><br></pre></td></tr></table></figure><h3 id="storage-master-Rook"><a href="#storage-master-Rook" class="headerlink" title="storage (master). Rook"></a>storage (master). Rook</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">$ kubectl apply -f https://raw.githubusercontent.com/rook/rook/master/cluster/examples/kubernetes/ceph/operator.yaml</span><br><span class="line"></span><br><span class="line">$ kubectl apply -f https://raw.githubusercontent.com/rook/rook/master/cluster/examples/kubernetes/ceph/cluster.yaml</span><br><span class="line">$ kubectl get pods -n rook-ceph-system</span><br><span class="line"></span><br><span class="line">$ kubectl get pods -n rook-ceph</span><br></pre></td></tr></table></figure><h3 id="Deploy-first-app"><a href="#Deploy-first-app" class="headerlink" title="Deploy first app"></a>Deploy first app</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br></pre></td><td class="code"><pre><span class="line"># vi nginx-deployment.yaml</span><br><span class="line">apiVersion: apps/v1</span><br><span class="line">kind: Deployment</span><br><span class="line">metadata:</span><br><span class="line">  name: nginx-deployment</span><br><span class="line">spec:</span><br><span class="line">  selector:</span><br><span class="line">    matchLabels:</span><br><span class="line">      app: nginx</span><br><span class="line">  replicas: 2</span><br><span class="line">  template:</span><br><span class="line">    metadata:</span><br><span class="line">      labels:</span><br><span class="line">        app: nginx</span><br><span class="line">    spec:</span><br><span class="line">      containers:</span><br><span class="line">      - name: nginx</span><br><span class="line">        image: nginx:1.7.9</span><br><span class="line">        ports:</span><br><span class="line">        - containerPort: 80</span><br><span class="line"># kubectl create -f nginx-deployment.yaml</span><br><span class="line"># kubectl get pods</span><br></pre></td></tr></table></figure><h3 id="Expose-a-service"><a href="#Expose-a-service" class="headerlink" title="Expose a service"></a>Expose a service</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line"># kubectl expose deployment nginx-deployment --type=LoadBalancer</span><br><span class="line"># kubectl get services</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Here is a guide on how to setup Kubernetes on two CentOS 7 VMs (master and node).&lt;br&gt;
    
    </summary>
    
      <category term="Cloud" scheme="http://goldginkgo.github.io/categories/Cloud/"/>
    
    
      <category term="Kubernetes" scheme="http://goldginkgo.github.io/tags/Kubernetes/"/>
    
  </entry>
  
  <entry>
    <title>Setup Kuberntes using minikube on MacOS</title>
    <link href="http://goldginkgo.github.io/2018/11/01/Setup-kuberntes-using-minikube-on-MacOS/"/>
    <id>http://goldginkgo.github.io/2018/11/01/Setup-kuberntes-using-minikube-on-MacOS/</id>
    <published>2018-11-01T12:01:06.000Z</published>
    <updated>2018-12-04T00:21:35.247Z</updated>
    
    <content type="html"><![CDATA[<p>Here is guide on how to setup Kubernetes 1.12 using minikube 0.30 on MacOS.<br><a id="more"></a></p><h3 id="Setup-Shadowsocks"><a href="#Setup-Shadowsocks" class="headerlink" title="Setup Shadowsocks"></a>Setup Shadowsocks</h3><p>Setup shadowsocks, change shadowsocks “HTTP proxy listen ip” to local ip. e.g 192.168.1.107. Use ‘ipconfig getifaddr en0’ command to check IP.</p><h3 id="Set-proxy-in-terminal"><a href="#Set-proxy-in-terminal" class="headerlink" title="Set proxy in terminal"></a>Set proxy in terminal</h3><p>Open terminal, set proxy.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">export http_proxy=http://192.168.1.107:1087;export https_proxy=http://192.168.1.107:1087;export no_proxy=localhost,127.0.0.0/8,192.0.0.0/8;</span><br></pre></td></tr></table></figure></p><h3 id="Install-and-start-docker"><a href="#Install-and-start-docker" class="headerlink" title="Install and start docker"></a>Install and start docker</h3><h3 id="Setup-minikube"><a href="#Setup-minikube" class="headerlink" title="Setup minikube"></a>Setup minikube</h3><p>Execute following command to setup minikube.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">minikube start --vm-driver=hyperkit --kubernetes-version v1.12.1 --docker-env HTTP_PROXY=http://192.168.1.107:1087 --docker-env HTTPS_PROXY=http://192.168.1.107:1087 --docker-env NO_PROXY=localhost,127.0.0.0/8,192.0.0.0/8;</span><br></pre></td></tr></table></figure></p><h3 id="Commands-for-debugging"><a href="#Commands-for-debugging" class="headerlink" title="Commands for debugging"></a>Commands for debugging</h3><p>Here are a list of commands that maybe useful for debugging the setup if error occurs.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">minikube ssh</span><br><span class="line">docker ps -a</span><br><span class="line">docker logs &lt;container&gt;</span><br><span class="line"></span><br><span class="line">kubectl get pods --all-namespaces</span><br><span class="line">kubectl logs -n kube-system &lt;pod&gt;</span><br></pre></td></tr></table></figure></p><h3 id="Open-dashboard"><a href="#Open-dashboard" class="headerlink" title="Open dashboard"></a>Open dashboard</h3><p>Open Kubenetes dashboard using <code>minikube dashboard</code> command.</p><h3 id="Cleanup"><a href="#Cleanup" class="headerlink" title="Cleanup"></a>Cleanup</h3><p>If you want to delete minikube and Kubernetes, use following command.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">minikube stop &amp;&amp; minikube delete &amp;&amp; rm -rf ~/.minikube ~/.kube</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Here is guide on how to setup Kubernetes 1.12 using minikube 0.30 on MacOS.&lt;br&gt;
    
    </summary>
    
    
      <category term="Kubernetes" scheme="http://goldginkgo.github.io/tags/Kubernetes/"/>
    
  </entry>
  
  <entry>
    <title>How to Use Cloud Foundry Services From outside the Cloud Envivonment</title>
    <link href="http://goldginkgo.github.io/2018/08/17/How-to-Use-Cloud-Foundry-Services-From-outside-the-Cloud-Envivonment/"/>
    <id>http://goldginkgo.github.io/2018/08/17/How-to-Use-Cloud-Foundry-Services-From-outside-the-Cloud-Envivonment/</id>
    <published>2018-08-17T12:40:10.000Z</published>
    <updated>2018-12-04T00:19:09.254Z</updated>
    
    <content type="html"><![CDATA[<p>Based on NGINX buildpack and TCP routing feature in Cloud Foundry, we can implement an NGINX app on cloud foundry which acts as a reverse proxy for Cloud Foundry services.</p><p>By accessing the app, we will be able to use Cloud Foundry services (RabbitMQ, Redis, …) from outside Cloud Foundry.<br><a id="more"></a><br>Let’s take RabbitMQ/AMQP protocol for example, here are the steps:</p><h3 id="Add-RadditMQ-service-in-Cloud-Foundry"><a href="#Add-RadditMQ-service-in-Cloud-Foundry" class="headerlink" title="Add RadditMQ service in Cloud Foundry"></a>Add RadditMQ service in Cloud Foundry</h3><p>Login to your org and space in Cloud Foundry, add a RabbitMQ service instance.</p><h3 id="Create-TCP-route"><a href="#Create-TCP-route" class="headerlink" title="Create TCP route"></a>Create TCP route</h3><p>Create a TCP route with the following command, and get TCP port information using “cf routes” command.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cf create-route &lt;space-name&gt; tcp1.&lt;cloud-foundry-domain&gt; --random-port</span><br></pre></td></tr></table></figure></p><h3 id="Configure-nginx-conf"><a href="#Configure-nginx-conf" class="headerlink" title="Configure nginx.conf"></a>Configure nginx.conf</h3><p>Create a directory on your laptop. Create nginx.conf file in the directory with following contents.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">&#123;&#123;module &quot;ngx_stream_module&quot;&#125;&#125;</span><br><span class="line"></span><br><span class="line">worker_processes 1;</span><br><span class="line">daemon off;</span><br><span class="line"> </span><br><span class="line">error_log stderr;</span><br><span class="line">events &#123; worker_connections 1024; &#125;</span><br><span class="line"> </span><br><span class="line">stream &#123;</span><br><span class="line">    server &#123;</span><br><span class="line">        listen &#123;&#123;port&#125;&#125;;</span><br><span class="line">        proxy_pass &#123;&#123;env &quot;RHOST&quot;&#125;&#125;:5672;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="Create-app’s-manifest"><a href="#Create-app’s-manifest" class="headerlink" title="Create app’s manifest"></a>Create app’s manifest</h3><p>Create manifest.yml file in the directory with the following content. Replace the values with actual ones. Just replace <rabbitmq-host-url> with 127.0.0.1 if you don’t have the IP/FQDN for RabbitMQ.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">---</span><br><span class="line">applications:</span><br><span class="line">- name: &lt;app-name&gt;</span><br><span class="line">  buildpack: https://github.com/cloudfoundry/nginx-buildpack.git</span><br><span class="line">  routes:</span><br><span class="line">  - route: tcp1.&lt;region&gt;.bosch-iot-cloud.com:&lt;tcp-port&gt;</span><br><span class="line">  env:</span><br><span class="line">    RHOST: &lt;rabbitmq-host-url&gt;</span><br><span class="line">  services:</span><br><span class="line">  - &lt;rabbitmq-service-name&gt;</span><br></pre></td></tr></table></figure></rabbitmq-host-url></p><h3 id="Push-app"><a href="#Push-app" class="headerlink" title="Push app"></a>Push app</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">cf push</span><br></pre></td></tr></table></figure><h3 id="Change-RabbitMQ-setting-in-manifest-yml"><a href="#Change-RabbitMQ-setting-in-manifest-yml" class="headerlink" title="Change RabbitMQ setting in manifest.yml"></a>Change RabbitMQ setting in manifest.yml</h3><p>Get RabbitMQ hostname from apps manager UI and change “RHOST” with actual value in manifest.yml and execute “cf push” again. Skip this if you already entered the right value in step 4.</p><h3 id="Whitelist-the-route"><a href="#Whitelist-the-route" class="headerlink" title="Whitelist the route"></a>Whitelist the route</h3><p>Whitelist the TCP route for you app to use if necessary.</p><p>Now you can develop apps which will be deployed outside Cloud Foundry to use RabbitMQ service in Cloud Foundry. Just get RabbitMQ connection information from Cloud Foundry, and replace RabbitMQ hostname and port with your NGINX app’s tcp route. However, normally this is not allowed as we may have security concerns on using service outside Cloud Foundry.</p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Based on NGINX buildpack and TCP routing feature in Cloud Foundry, we can implement an NGINX app on cloud foundry which acts as a reverse proxy for Cloud Foundry services.&lt;/p&gt;
&lt;p&gt;By accessing the app, we will be able to use Cloud Foundry services (RabbitMQ, Redis, …) from outside Cloud Foundry.&lt;br&gt;
    
    </summary>
    
      <category term="Cloud" scheme="http://goldginkgo.github.io/categories/Cloud/"/>
    
    
      <category term="Cloud Foundry" scheme="http://goldginkgo.github.io/tags/Cloud-Foundry/"/>
    
  </entry>
  
  <entry>
    <title>Setup Concourse in Ubuntu from scratch with Proxy</title>
    <link href="http://goldginkgo.github.io/2018/07/03/Setup-Concourse-in-Ubuntu-from-scratch-with-Proxy/"/>
    <id>http://goldginkgo.github.io/2018/07/03/Setup-Concourse-in-Ubuntu-from-scratch-with-Proxy/</id>
    <published>2018-07-03T13:19:32.000Z</published>
    <updated>2018-12-04T00:14:29.367Z</updated>
    
    <content type="html"><![CDATA[<p>Concourse is a greate tool for CI/CD.<br>Here is a guide to setup Concourse on Ubuntu 18.04 from scratch in Corporate environment.<br><a id="more"></a></p><h3 id="Install-Ubuntu-18-04"><a href="#Install-Ubuntu-18-04" class="headerlink" title="Install Ubuntu 18.04."></a>Install Ubuntu 18.04.</h3><h3 id="Check-DNS-and-hostname"><a href="#Check-DNS-and-hostname" class="headerlink" title="Check DNS and hostname"></a>Check DNS and hostname</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vim /etc/resolv.conf</span><br><span class="line">nameserver &lt;dns-server&gt;</span><br><span class="line"></span><br><span class="line">$ sudo vi /etc/hosts</span><br><span class="line">127.0.0.1       localhost.localdomain   localhost frankvm</span><br></pre></td></tr></table></figure><h3 id="Install-cntlm"><a href="#Install-cntlm" class="headerlink" title="Install cntlm"></a>Install cntlm</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br></pre></td><td class="code"><pre><span class="line">Set temporary proxy in following file for installing cntlm</span><br><span class="line">$ sudo touch /etc/apt/apt.conf.d/proxy.conf</span><br><span class="line">$ sudo vi /etc/apt/apt.conf.d/proxy.conf</span><br><span class="line">Acquire::http::Proxy &quot;http://dfr1szh:&lt;password&gt;@rb-proxy-apac.bosch.com:8080/&quot;;</span><br><span class="line">Acquire::https::Proxy &quot;https://dfr1szh:&lt;password&gt;@rb-proxy-apac.bosch.com:8080/&quot;;</span><br><span class="line"></span><br><span class="line">Enable universe repository so that we can install cntlm.</span><br><span class="line">$ sudo add-apt-repository universe</span><br><span class="line"></span><br><span class="line">check repository</span><br><span class="line">$ apt policy</span><br><span class="line"></span><br><span class="line">$ cat /etc/apt/sources.list</span><br><span class="line"></span><br><span class="line">install cntlm</span><br><span class="line">$ sudo apt-get install cntlm</span><br><span class="line"></span><br><span class="line">cntlm configuration</span><br><span class="line">$ cntlm -u &lt;user&gt; -d &lt;domain&gt; -H</span><br><span class="line">PassNTLMv2      67DB3F227E0A9136A7C5D8D0532A1AAB</span><br><span class="line"></span><br><span class="line">$ sudo vim /etc/cntlm.conf</span><br><span class="line">Username        &lt;user&gt;</span><br><span class="line">Domain          &lt;domain&gt;</span><br><span class="line">#Password       password</span><br><span class="line">PassNTLMv2      67DB3F227E0A9136A7C5D8D0532A0AAB</span><br><span class="line">Proxy           &lt;proxy-ip&gt;:8080</span><br><span class="line">NoProxy         localhost, 127.0.0.*, 10.*, 192.168.*</span><br><span class="line">Listen          &lt;local-ip&gt;:3128</span><br><span class="line"></span><br><span class="line">$ sudo systemctl restart cntlm</span><br></pre></td></tr></table></figure><h3 id="Set-proxy"><a href="#Set-proxy" class="headerlink" title="Set proxy"></a>Set proxy</h3><p>replace <local-ip> with actual ip<br> <figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">$ sudo vi /etc/environment</span><br><span class="line">http_proxy=http://&lt;local-ip&gt;:3128/</span><br><span class="line">ftp_proxy=http://&lt;local-ip&gt;:3128/</span><br><span class="line">socks_proxy=socks://&lt;local-ip&gt;:3128/</span><br><span class="line">https_proxy=http://&lt;local-ip&gt;:3128/</span><br><span class="line">no_proxy=127.0.0.1,localhost,10.*,192.168.*,*.bosch.com</span><br><span class="line"></span><br><span class="line">$ source /etc/environment</span><br><span class="line"></span><br><span class="line">$ sudo vi /etc/apt/apt.conf.d/proxy.conf</span><br><span class="line">Acquire::http::proxy &quot;http://&lt;local-ip&gt;:3128/&quot;;</span><br><span class="line">Acquire::https::proxy &quot;http://&lt;local-ip&gt;:3128/&quot;;</span><br><span class="line"></span><br><span class="line">reboot if necessary</span><br></pre></td></tr></table></figure></local-ip></p><h3 id="Install-Docker"><a href="#Install-Docker" class="headerlink" title="Install Docker"></a>Install Docker</h3><p><a href="https://docs.docker.com/install/linux/docker-ce/ubuntu/" target="_blank" rel="noopener">https://docs.docker.com/install/linux/docker-ce/ubuntu/</a></p><p><a href="https://docs.docker.com/install/linux/linux-postinstall/#next-steps" target="_blank" rel="noopener">https://docs.docker.com/install/linux/linux-postinstall/#next-steps</a></p><p><a href="https://docs.docker.com/config/daemon/systemd/#httphttps-proxy" target="_blank" rel="noopener">https://docs.docker.com/config/daemon/systemd/#httphttps-proxy</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">sudo vi /etc/systemd/system/docker.service.d/http-proxy.conf</span><br><span class="line">[Service]</span><br><span class="line">Environment=&quot;HTTP_PROXY=http://&lt;local-ip&gt;:3128/&quot;</span><br><span class="line">Environment=&quot;HTTPS_PROXY=http://&lt;local-ip&gt;:3128/&quot;</span><br><span class="line">Environment=&quot;NO_PROXY=localhost,127.0.0.*,10.*,192.168.*,*.bosch.com&quot;</span><br></pre></td></tr></table></figure><h3 id="Install-certificates"><a href="#Install-certificates" class="headerlink" title="Install certificates"></a>Install certificates</h3><p>When using tools like wget or docker to download HTTPS secured content, need to install trusted self-signed proxy certs.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">Extract certs to /usr/local/share/ca-certificates</span><br><span class="line">$ sudo update-ca-certificates</span><br></pre></td></tr></table></figure></p><h3 id="Install-Docker-Compose"><a href="#Install-Docker-Compose" class="headerlink" title="Install Docker Compose"></a>Install <a href="https://docs.docker.com/compose/install/#install-compose" target="_blank" rel="noopener">Docker Compose</a></h3><h3 id="Install-Ruby"><a href="#Install-Ruby" class="headerlink" title="Install Ruby"></a>Install <a href="https://www.digitalocean.com/community/tutorials/how-to-install-ruby-on-rails-with-rbenv-on-ubuntu-18-04" target="_blank" rel="noopener">Ruby</a></h3><p>(not relevant)</p><h3 id="Install-Concourse"><a href="#Install-Concourse" class="headerlink" title="Install Concourse"></a>Install Concourse</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br><span class="line">35</span><br><span class="line">36</span><br><span class="line">37</span><br><span class="line">38</span><br><span class="line">39</span><br><span class="line">40</span><br><span class="line">41</span><br><span class="line">42</span><br><span class="line">43</span><br><span class="line">44</span><br><span class="line">45</span><br><span class="line">46</span><br><span class="line">47</span><br><span class="line">48</span><br><span class="line">49</span><br><span class="line">50</span><br><span class="line">51</span><br></pre></td><td class="code"><pre><span class="line">$ git clone https://github.com/concourse/concourse-docker.git &amp;&amp; cd concourse-docker</span><br><span class="line">$ sudo ./generate-keys.sh</span><br><span class="line">$ cat docker-compose-quickstart.yml</span><br><span class="line">version: &apos;3&apos;</span><br><span class="line"></span><br><span class="line">services:</span><br><span class="line">  concourse-db:</span><br><span class="line">    image: postgres</span><br><span class="line">    environment:</span><br><span class="line">    - POSTGRES_DB=concourse</span><br><span class="line">    - POSTGRES_PASSWORD=concourse_pass</span><br><span class="line">    - POSTGRES_USER=concourse_user</span><br><span class="line">    - PGDATA=/database</span><br><span class="line"></span><br><span class="line">  concourse-web:</span><br><span class="line">    image: concourse/concourse:4.2.1</span><br><span class="line">    command: web</span><br><span class="line">    links: [concourse-db]</span><br><span class="line">    depends_on: [concourse-db]</span><br><span class="line">    ports: [&quot;8080:8080&quot;]</span><br><span class="line">    volumes: [&quot;./keys/web:/concourse-keys&quot;]</span><br><span class="line">    environment:</span><br><span class="line">    - CONCOURSE_POSTGRES_HOST=concourse-db</span><br><span class="line">    - CONCOURSE_POSTGRES_USER=concourse_user</span><br><span class="line">    - CONCOURSE_POSTGRES_PASSWORD=concourse_pass</span><br><span class="line">    - CONCOURSE_POSTGRES_DATABASE=concourse</span><br><span class="line">    - CONCOURSE_EXTERNAL_URL=http://&lt;local-ip&gt;:8080</span><br><span class="line">    - CONCOURSE_ADD_LOCAL_USER=test:$$2a$$10$$0W9/ilCpYXY/yCPpaOD.6eCrGda/fnH3D4lhsw1Mze0WTID5BuiTW</span><br><span class="line">    - CONCOURSE_MAIN_TEAM_ALLOW_ALL_USERS=true</span><br><span class="line">    - http_proxy=http://&lt;local-ip&gt;:3128</span><br><span class="line">    - https_proxy=http://&lt;local-ip&gt;:3128</span><br><span class="line">    - no_proxy=127.0.0.1,localhost,10.*,192.168.*</span><br><span class="line"></span><br><span class="line"></span><br><span class="line">  concourse-worker:</span><br><span class="line">    image: concourse/concourse:4.2.1</span><br><span class="line">    command: worker</span><br><span class="line">    privileged: true</span><br><span class="line">    links: [concourse-web]</span><br><span class="line">    depends_on: [concourse-web]</span><br><span class="line">    volumes: [&quot;./keys/worker:/concourse-keys&quot;]</span><br><span class="line">    environment:</span><br><span class="line">    - CONCOURSE_TSA_HOST=concourse-web:2222</span><br><span class="line">    - CONCOURSE_GARDEN_NETWORK</span><br><span class="line">    - http_proxy=http://&lt;local-ip&gt;:3128</span><br><span class="line">    - https_proxy=http://&lt;local-ip&gt;:3128</span><br><span class="line">    - no_proxy=127.0.0.1,localhost,10.*,192.168.*</span><br><span class="line"></span><br><span class="line">$ docker-compose up -d</span><br><span class="line">$ sudo curl -L &quot;https://github.com/concourse/concourse/releases/download/v4.2.1/fly_linux_amd64&quot; -o /usr/local/bin/fly</span><br><span class="line">$ sudo chmod +x /usr/local/bin/fly</span><br></pre></td></tr></table></figure>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Concourse is a greate tool for CI/CD.&lt;br&gt;Here is a guide to setup Concourse on Ubuntu 18.04 from scratch in Corporate environment.&lt;br&gt;
    
    </summary>
    
      <category term="DevOps" scheme="http://goldginkgo.github.io/categories/DevOps/"/>
    
    
      <category term="Concourse" scheme="http://goldginkgo.github.io/tags/Concourse/"/>
    
  </entry>
  
  <entry>
    <title>How to find apps with high CPU usage for a Diego cell VM.</title>
    <link href="http://goldginkgo.github.io/2018/06/30/How-to-find-apps-with-high-CPU-usage-for-a-Diego-cell-VM/"/>
    <id>http://goldginkgo.github.io/2018/06/30/How-to-find-apps-with-high-CPU-usage-for-a-Diego-cell-VM/</id>
    <published>2018-06-30T10:56:10.000Z</published>
    <updated>2018-12-04T00:12:08.266Z</updated>
    
    <content type="html"><![CDATA[<p>According to <a href="https://docs.cloudfoundry.org/concepts/container-security.html" target="_blank" rel="noopener">Understanding Container Security</a>, each container in Cloud Foundry use a fair share of CPU relative to the other containers. However, an app container can use much higher CPU resources when other containers in the same Diego Cell VM are idle if we don’t set limitation for CPU usage of app containsers.<br><a id="more"></a><br>It would be rather difficult to figure out the apps that is causing the trouble if we don’t have application level monitoring.</p><p>One way to achieve our goal is to use Cloud Foundry <a href="https://github.com/ECSTeam/cloudfoundry-top-plugin" target="_blank" rel="noopener">top</a> plugin. But here I also want to show the procedures on how to do it manually.</p><p>Before we actually start, I want to give some steps on how to find the Diego Cell VM information based on an application instace.</p><h2 id="Mapping-of-Diego-Cell-and-Cloud-Foundry-apps"><a href="#Mapping-of-Diego-Cell-and-Cloud-Foundry-apps" class="headerlink" title="Mapping of Diego Cell and Cloud Foundry apps"></a>Mapping of Diego Cell and Cloud Foundry apps</h2><h3 id="Get-mapping-information-of-Diego-Cell-and-Cloud-Foundry-apps"><a href="#Get-mapping-information-of-Diego-Cell-and-Cloud-Foundry-apps" class="headerlink" title="Get mapping information of Diego Cell and Cloud Foundry apps"></a>Get mapping information of Diego Cell and Cloud Foundry apps</h3><p>cf login to your org and space, use commands below to get IP address of the cell. CPU and Memory usage is also shown in this command.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br></pre></td><td class="code"><pre><span class="line">$ cf app web-app-bb --guid</span><br><span class="line">c07cf94e-3c43-41b6-9e1b-e77231fa2058</span><br><span class="line">$ cf curl /v2/apps/c07cf94e-3c43-41b6-9e1b-e77231fa2058/stats</span><br><span class="line">&#123;</span><br><span class="line">   &quot;0&quot;: &#123;</span><br><span class="line">      &quot;state&quot;: &quot;RUNNING&quot;,</span><br><span class="line">      &quot;isolation_segment&quot;: null,</span><br><span class="line">      &quot;stats&quot;: &#123;</span><br><span class="line">         &quot;name&quot;: &quot;web-app-bb&quot;,</span><br><span class="line">         &quot;uris&quot;: [</span><br><span class="line">            &quot;web-app-bb.apps.&lt;url&gt;&quot;</span><br><span class="line">         ],</span><br><span class="line">         &quot;host&quot;: &quot;10.48.16.166&quot;,</span><br><span class="line">         &quot;port&quot;: 61001,</span><br><span class="line">         &quot;uptime&quot;: 114,</span><br><span class="line">         &quot;mem_quota&quot;: 67108864,</span><br><span class="line">         &quot;disk_quota&quot;: 1073741824,</span><br><span class="line">         &quot;fds_quota&quot;: 16384,</span><br><span class="line">         &quot;usage&quot;: &#123;</span><br><span class="line">            &quot;time&quot;: &quot;2018-12-02T08:25:52+00:00&quot;,</span><br><span class="line">            &quot;cpu&quot;: 0.0036034101653391625,</span><br><span class="line">            &quot;mem&quot;: 16740352,</span><br><span class="line">            &quot;disk&quot;: 185126912</span><br><span class="line">         &#125;</span><br><span class="line">      &#125;</span><br><span class="line">   &#125;</span><br><span class="line">&#125;</span><br></pre></td></tr></table></figure></p><h3 id="SSH-to-Diego-cell-VM"><a href="#SSH-to-Diego-cell-VM" class="headerlink" title="SSH to Diego cell VM"></a>SSH to Diego cell VM</h3><p>Login to Bosh, and execute the following command to ssh to the Diego cell VM.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br></pre></td><td class="code"><pre><span class="line">$ bosh -e pcf log-in</span><br><span class="line">$ bosh -e pcf -d cf-c16bf7a74c8a95e1e6eb vms | grep 10.48.16.166</span><br><span class="line">diego_cell/9dd712e7-31d2-4d44-845f-91bd7495e9bd                         running PCF-QA-AZ3  10.48.16.166    vm-dd56c1cc-1edf-44a7-81ff-6ce22a32d9dc ert.custom2     -</span><br><span class="line">$ bosh -e pcf -d cf-c16bf7a74c8a95e1e6eb ssh diego_cell/9dd712e7-31d2-4d44-845f-91bd7495e9bd</span><br></pre></td></tr></table></figure></p><p>Now let’s go on with the steps to find applications based on the Deigo cell VM.</p><h2 id="Find-applications-on-a-Deigo-cell-VM"><a href="#Find-applications-on-a-Deigo-cell-VM" class="headerlink" title="Find applications on a Deigo cell VM"></a>Find applications on a Deigo cell VM</h2><h3 id="Check-stats-on-Diego-cell"><a href="#Check-stats-on-Diego-cell" class="headerlink" title="Check stats on Diego cell"></a>Check stats on Diego cell</h3><p>Login to Diego cell VM and check the stats on the VM. You will get resulst like following, first half of process_guid is the actuall App GUID.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br></pre></td><td class="code"><pre><span class="line">diego_cell/9dd712e7-31d2-4d44-845f-91bd7495e9bd:~$ cd /var/vcap/jobs/rep/config/certs; curl -k -s https://localhost:1801/state --cert server.crt --key server.key | python -m json.tool</span><br><span class="line">&#123;</span><br><span class="line">    &quot;AvailableResources&quot;: &#123;</span><br><span class="line">        &quot;Containers&quot;: 236,</span><br><span class="line">        &quot;DiskMB&quot;: 173866,</span><br><span class="line">        &quot;MemoryMB&quot;: 52485</span><br><span class="line">    &#125;,</span><br><span class="line">    &quot;Evacuating&quot;: false,</span><br><span class="line">    &quot;LRPs&quot;: [</span><br><span class="line">        &#123;</span><br><span class="line">            &quot;DiskMB&quot;: 1024,</span><br><span class="line">            &quot;MaxPids&quot;: 0,</span><br><span class="line">            &quot;MemoryMB&quot;: 1024,</span><br><span class="line">            &quot;PlacementTags&quot;: null,</span><br><span class="line">            &quot;RootFs&quot;: &quot;preloaded:cflinuxfs2&quot;,</span><br><span class="line">            &quot;VolumeDrivers&quot;: [],</span><br><span class="line">            &quot;domain&quot;: &quot;cf-apps&quot;,</span><br><span class="line">            &quot;index&quot;: 0,</span><br><span class="line">            &quot;instance_guid&quot;: &quot;30525d4f-81ab-4cf3-7c61-bb6f&quot;,</span><br><span class="line">            &quot;process_guid&quot;: &quot;75a52aba-3eab-429a-ad6f-160619241e2d-55c2deda-cf67-4d2b-9f1c-8daf2bbeeea0&quot;</span><br><span class="line">        &#125;,</span><br><span class="line">...</span><br><span class="line">    &quot;TotalResources&quot;: &#123;</span><br><span class="line">        &quot;Containers&quot;: 249,</span><br><span class="line">        &quot;DiskMB&quot;: 184938,</span><br><span class="line">        &quot;MemoryMB&quot;: 64429</span><br><span class="line">    &#125;,</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p><h3 id="Get-all-app-GUIDs-on-Diego-cell"><a href="#Get-all-app-GUIDs-on-Diego-cell" class="headerlink" title="Get all app GUIDs on Diego cell"></a>Get all app GUIDs on Diego cell</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br></pre></td><td class="code"><pre><span class="line">diego_cell/9dd712e7-31d2-4d44-845f-91bd7495e9bd:/var/vcap/jobs/rep/config/certs$ cd /var/vcap/jobs/rep/config/certs; curl -k -s https://localhost:1801/state --cert server.crt --key server.key | python -m json.tool | grep &quot;process_guid&quot; |cut -d &apos;:&apos; -f2|cut -c 3-38</span><br><span class="line">c07cf94e-3c43-41b6-9e1b-e77231fa2058</span><br><span class="line">656cd296-b2f4-4c4d-a82d-8079763d3e8a</span><br><span class="line">5f159b3d-6e61-4d00-9fca-deee3f035c57</span><br><span class="line">40b135af-c7c7-4ebd-af2e-984b2b5ce262</span><br><span class="line">382ce123-c13c-472f-ab74-5265dc984714</span><br><span class="line">2044e186-63bd-494e-8559-e28fd3e35e28</span><br><span class="line">0409effc-f11a-4dc7-a6e4-15282e234a53</span><br><span class="line">fcf52090-7c8a-45db-90f6-29f25fa0be53</span><br><span class="line">048b4d26-4652-4c85-8015-4bb2be42aeff</span><br><span class="line">8e3ba265-a0df-4b07-a34a-aaea3158e090</span><br><span class="line">75a52aba-3eab-429a-ad6f-160619241e2d</span><br><span class="line">d048268a-e60b-481a-a5cc-ff39fdbf1eb2</span><br><span class="line">e7428432-b459-4111-b813-4fb6dfc7884f</span><br></pre></td></tr></table></figure><h3 id="Get-apps-with-CPU-info"><a href="#Get-apps-with-CPU-info" class="headerlink" title="Get apps with CPU info"></a>Get apps with CPU info</h3><p>Login to Cloud Foundry with admin account and using following shell script to get apps names. app_guids is a file with contents from previous step.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">filename=&quot;app_guids&quot;</span><br><span class="line">cat $filename | while read LINE</span><br><span class="line">do</span><br><span class="line">   echo $LINE</span><br><span class="line">   cf curl /v2/apps/$LINE | grep &quot;\&quot;name\&quot;:&quot;</span><br><span class="line">   cf curl /v2/apps/$LINE | grep &quot;\&quot;cpu\&quot;:&quot;</span><br><span class="line">done</span><br></pre></td></tr></table></figure></p><p>Here is a sample result:<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br></pre></td><td class="code"><pre><span class="line">$ sh script</span><br><span class="line">c07cf94e-3c43-41b6-9e1b-e77231fa2058</span><br><span class="line">      &quot;name&quot;: &quot;web-app-bb&quot;,</span><br><span class="line">            &quot;cpu&quot;: 0.0026490531155109625,</span><br><span class="line">656cd296-b2f4-4c4d-a82d-8079763d3e8a</span><br><span class="line">      &quot;name&quot;: &quot;connection-test&quot;,</span><br><span class="line">            &quot;cpu&quot;: 0.0008588435074484718,</span><br><span class="line">            &quot;cpu&quot;: 0.0009525608833325616,</span><br><span class="line">0409effc-f11a-4dc7-a6e4-15282e234a53</span><br><span class="line">      &quot;name&quot;: &quot;apps-manager-js-blue&quot;,</span><br><span class="line">            &quot;cpu&quot;: 7.13585021377469e-06,</span><br><span class="line">            &quot;cpu&quot;: 8.020481371308023e-06,</span><br><span class="line">            &quot;cpu&quot;: 7.091829884025554e-06,</span><br><span class="line">            &quot;cpu&quot;: 0.0,</span><br><span class="line">            &quot;cpu&quot;: 0.0,</span><br><span class="line">            &quot;cpu&quot;: 0.0,</span><br><span class="line">...</span><br></pre></td></tr></table></figure></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;According to &lt;a href=&quot;https://docs.cloudfoundry.org/concepts/container-security.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Understanding Container Security&lt;/a&gt;, each container in Cloud Foundry use a fair share of CPU relative to the other containers. However, an app container can use much higher CPU resources when other containers in the same Diego Cell VM are idle if we don’t set limitation for CPU usage of app containsers.&lt;br&gt;
    
    </summary>
    
      <category term="Cloud" scheme="http://goldginkgo.github.io/categories/Cloud/"/>
    
    
      <category term="Cloud Foundry" scheme="http://goldginkgo.github.io/tags/Cloud-Foundry/"/>
    
  </entry>
  
  <entry>
    <title>Git Workflow in Gitlab</title>
    <link href="http://goldginkgo.github.io/2018/05/20/git-workflow/"/>
    <id>http://goldginkgo.github.io/2018/05/20/git-workflow/</id>
    <published>2018-05-20T13:05:01.000Z</published>
    <updated>2018-12-04T00:01:16.014Z</updated>
    
    <content type="html"><![CDATA[<p>A Git Workflow is a recipe or recommendation for how to use Git to accomplish work in a consistent and productive manner.</p><p>There are different kinds of Git workflows. But here we suggest the following Git workflow to be used.<br><a id="more"></a></p><p>In the future, we will move towards trunk based development.</p><h3 id="Clone-a-repository"><a href="#Clone-a-repository" class="headerlink" title="Clone a repository"></a>Clone a repository</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br></pre></td><td class="code"><pre><span class="line">git clone https://&lt;url&gt;.git</span><br><span class="line">cd &lt;project-name&gt;</span><br></pre></td></tr></table></figure><h3 id="Create-a-branch"><a href="#Create-a-branch" class="headerlink" title="Create a branch"></a>Create a branch</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git checkout -b &lt;branch-name&gt;</span><br><span class="line">create a feature branch:  git checkout -b feature/&lt;name&gt;</span><br><span class="line">create a bug-fix branch:  git checkout -b bug/&lt;name&gt;</span><br><span class="line">create a release branch:  git checkout -b release/1.0</span><br><span class="line">create a bug-fix branch from a release branch: git checkout -b release/1.0  release/1.0/&lt;name&gt;</span><br><span class="line">create branch from a tag: git checkout -b &lt;Hotfix branch&gt; &lt;TAG&gt;</span><br></pre></td></tr></table></figure><h3 id="Commit-to-local-branch"><a href="#Commit-to-local-branch" class="headerlink" title="Commit to local branch"></a>Commit to local branch</h3><p>After code development in our local machine, do proper testing and commit changes to our local branch<br><a href="https://gist.github.com/robertpainsi/b632364184e70900af4ab688decf6f53" target="_blank" rel="noopener">A guideline to commit messages</a></p><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br></pre></td><td class="code"><pre><span class="line">git status</span><br><span class="line">git add .</span><br><span class="line">git commit -m &quot;&lt;commit-message&gt;&quot;</span><br><span class="line"></span><br><span class="line">Undo a change: https://blog.github.com/2015-06-08-how-to-undo-almost-anything-with-git/</span><br><span class="line">change a commit message https://help.github.com/articles/changing-a-commit-message/</span><br></pre></td></tr></table></figure><h3 id="Rebase-new-branch-with-master"><a href="#Rebase-new-branch-with-master" class="headerlink" title="Rebase new branch with master"></a>Rebase new branch with master</h3><p><a href="https://docs.gitlab.com/ee/university/training/topics/merge_conflicts.html" target="_blank" rel="noopener">https://docs.gitlab.com/ee/university/training/topics/merge_conflicts.html</a>)<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git checkout master</span><br><span class="line">git pull origin master</span><br><span class="line">git checkout &lt;branch-name&gt;</span><br><span class="line">git rebase master</span><br><span class="line">If there are conflicts, fix conflicts in the files.</span><br><span class="line">git add .</span><br><span class="line">git rebase --continue</span><br></pre></td></tr></table></figure></p><h3 id="Push-local-branch-to-remote-repository"><a href="#Push-local-branch-to-remote-repository" class="headerlink" title="Push local branch to remote repository"></a>Push local branch to remote repository</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">git push origin &lt;branch-name&gt;</span><br></pre></td></tr></table></figure><h3 id="Create-a-merge-request-on-master-branch"><a href="#Create-a-merge-request-on-master-branch" class="headerlink" title="Create a merge request on master branch"></a>Create a merge request on master branch</h3><h3 id="Review-the-commit-and-merge-the-code-if-it’s-ok"><a href="#Review-the-commit-and-merge-the-code-if-it’s-ok" class="headerlink" title="Review the commit and merge the code if it’s ok"></a>Review the commit and merge the code if it’s ok</h3><p>If testing for master branch fails, go back to step 3.</p><h3 id="Create-tags-and-releases"><a href="#Create-tags-and-releases" class="headerlink" title="Create tags and releases"></a>Create <a href="https://docs.gitlab.com/ee/university/training/topics/tags.html" target="_blank" rel="noopener">tags</a> and <a href="https://docs.gitlab.com/ee/workflow/releases.html" target="_blank" rel="noopener">releases</a></h3><h3 id="Future-Reading"><a href="#Future-Reading" class="headerlink" title="Future Reading"></a>Future Reading</h3><p><a href="https://nvie.com/posts/a-successful-git-branching-model/" target="_blank" rel="noopener">Gitflow model</a></p><p><a href="https://www.atlassian.com/git/tutorials/comparing-workflows" target="_blank" rel="noopener">Comparing Workflows</a></p><p><a href="https://paulhammant.com/2013/04/05/what-is-trunk-based-development/" target="_blank" rel="noopener">What is Trunk-Based Development?</a></p><p><a href="https://trunkbaseddevelopment.com/" target="_blank" rel="noopener">Trunk based development</a></p><p><a href="https://www.toptal.com/software/trunk-based-development-git-flow" target="_blank" rel="noopener">Trunk-based Development vs. Git Flow</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;A Git Workflow is a recipe or recommendation for how to use Git to accomplish work in a consistent and productive manner.&lt;/p&gt;
&lt;p&gt;There are different kinds of Git workflows. But here we suggest the following Git workflow to be used.&lt;br&gt;
    
    </summary>
    
      <category term="DevOps" scheme="http://goldginkgo.github.io/categories/DevOps/"/>
    
    
      <category term="Git" scheme="http://goldginkgo.github.io/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>Setup Shadowsocks to Visit Google in China</title>
    <link href="http://goldginkgo.github.io/2018/02/08/shadowsocks/"/>
    <id>http://goldginkgo.github.io/2018/02/08/shadowsocks/</id>
    <published>2018-02-08T11:18:08.000Z</published>
    <updated>2018-12-04T00:07:29.035Z</updated>
    
    <content type="html"><![CDATA[<p>Here is a guilde on how to setup Shadowssocks to visit blocked websites like Google in China.<br><a id="more"></a></p><h3 id="Register-for-a-VPS-provider"><a href="#Register-for-a-VPS-provider" class="headerlink" title="Register for a VPS provider"></a>Register for a VPS provider</h3><p>I will take <a href="https://www.vultr.com" target="_blank" rel="noopener">Vultr</a> for example.</p><h3 id="Upload-your-SSH-key-to-Vultr"><a href="#Upload-your-SSH-key-to-Vultr" class="headerlink" title="Upload your SSH key to Vultr"></a>Upload your SSH key to Vultr</h3><p>An SSH Key allows you to log into your server without needing a password. SSH Keys can be automatically added to servers during the installation process.</p><h3 id="Create-a-Ubuntu-18-04-VM"><a href="#Create-a-Ubuntu-18-04-VM" class="headerlink" title="Create a Ubuntu 18.04 VM"></a>Create a Ubuntu 18.04 VM</h3><p>Create a Ubuntu 18.04 VM in your VPS with your SSH key specified, and set location to places where have access to Google. (e.g. Los Angeles)</p><h3 id="Disable-ssh-timeout"><a href="#Disable-ssh-timeout" class="headerlink" title="Disable ssh timeout."></a><a href="http://queirozf.com/entries/disabling-ssh-timeout-when-connecting-to-from-ubuntu" target="_blank" rel="noopener">Disable ssh timeout</a>.</h3><h3 id="Install-shadowsocks-service-on-VPS-host"><a href="#Install-shadowsocks-service-on-VPS-host" class="headerlink" title="Install shadowsocks service on VPS host"></a>Install shadowsocks service on VPS host</h3><p>Execute the following script, or add this script as startup script when creating the vm. Logs for shadowsocks are in /var/log/shadowsocks.log.<br><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br><span class="line">11</span><br><span class="line">12</span><br><span class="line">13</span><br><span class="line">14</span><br><span class="line">15</span><br><span class="line">16</span><br><span class="line">17</span><br><span class="line">18</span><br><span class="line">19</span><br><span class="line">20</span><br><span class="line">21</span><br><span class="line">22</span><br><span class="line">23</span><br><span class="line">24</span><br><span class="line">25</span><br><span class="line">26</span><br><span class="line">27</span><br><span class="line">28</span><br><span class="line">29</span><br><span class="line">30</span><br><span class="line">31</span><br><span class="line">32</span><br><span class="line">33</span><br><span class="line">34</span><br></pre></td><td class="code"><pre><span class="line"><span class="meta">#!/bin/sh</span></span><br><span class="line"></span><br><span class="line"><span class="comment"># Deploy Ubuntu 18.04 VM</span></span><br><span class="line"></span><br><span class="line"><span class="comment">#echo -e "ClientAliveInterval 600\nTCPKeepAlive yes\nClientAliveCountMax 10" &gt;&gt; /etc/ssh/sshd_config</span></span><br><span class="line">apt-get update</span><br><span class="line">apt-get install python-pip -y</span><br><span class="line">apt-get install -y python-setuptools</span><br><span class="line">pip install git+https://github.com/shadowsocks/shadowsocks.git@master</span><br><span class="line"><span class="comment">#pip install shadowsocks</span></span><br><span class="line"></span><br><span class="line">sudo ufw <span class="built_in">disable</span></span><br><span class="line"></span><br><span class="line">IP=$(hostname -I)</span><br><span class="line">cat &gt; /etc/shadowsocks.json &lt;&lt;EOF</span><br><span class="line">&#123;</span><br><span class="line">    <span class="string">"server"</span>: <span class="string">"<span class="variable">$IP</span>"</span>,</span><br><span class="line">    <span class="string">"server_port"</span>: <span class="string">"8899"</span>,</span><br><span class="line">    <span class="string">"local_address"</span>: <span class="string">"127.0.0.1"</span>,</span><br><span class="line">    <span class="string">"local_port"</span>: 1080,</span><br><span class="line">    <span class="string">"password"</span>: <span class="string">"asdf_1234"</span>,</span><br><span class="line">    <span class="string">"timeout"</span>: 300,</span><br><span class="line">    <span class="string">"method"</span>: <span class="string">"aes-256-cfb"</span>,</span><br><span class="line">    <span class="string">"fast_open"</span>: <span class="literal">true</span></span><br><span class="line">&#125;</span><br><span class="line">EOF</span><br><span class="line"></span><br><span class="line"><span class="comment"># TCP BBR</span></span><br><span class="line"><span class="built_in">echo</span> <span class="string">"net.core.default_qdisc=fq"</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line"><span class="built_in">echo</span> <span class="string">"net.ipv4.tcp_congestion_control=bbr"</span> &gt;&gt; /etc/sysctl.conf</span><br><span class="line">sysctl -p</span><br><span class="line">sysctl net.ipv4.tcp_available_congestion_control</span><br><span class="line"></span><br><span class="line">ssserver -c /etc/shadowsocks.json -d start</span><br></pre></td></tr></table></figure></p><h3 id="Setup-client-on-your-laptop"><a href="#Setup-client-on-your-laptop" class="headerlink" title="Setup client on your laptop"></a>Setup client on your laptop</h3><p>Download <a href="https://github.com/shadowsocks/ShadowsocksX-NG/releases" target="_blank" rel="noopener">MacOS Client</a>, install, and enter server IP, port, password information in client. Change shadowsocks “HTTP proxy listen ip” to local ip. e.g 192.168.1.107. use ‘ipconfig getifaddr en0’ command to get IP.</p><h3 id="Use-shadowsocks-proxy-in-command-line"><a href="#Use-shadowsocks-proxy-in-command-line" class="headerlink" title="Use shadowsocks proxy in command line"></a>Use shadowsocks proxy in command line</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line"><span class="built_in">export</span> http_proxy=http://192.168.1.107:1087;<span class="built_in">export</span> https_proxy=http://192.168.1.107:1087;<span class="built_in">export</span> no_proxy=localhost,127.0.0.0/8,192.0.0.0/8;</span><br></pre></td></tr></table></figure><p>Reference:</p><p><a href="https://www.flyzy2005.cn/fan-qiang/shadowsocks/build-shadowsocks-on-vps/" target="_blank" rel="noopener">A Chinese Guide</a></p><p><a href="https://shadowsocks.org/en/index.html" target="_blank" rel="noopener">shadowsocks Official Website</a></p><p><a href="https://github.com/shadowsocks" target="_blank" rel="noopener">shadowsocks Github</a></p><p><a href="https://github.com/shadowsocks/shadowsocks/wiki" target="_blank" rel="noopener">shadowsocks wiki</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Here is a guilde on how to setup Shadowssocks to visit blocked websites like Google in China.&lt;br&gt;
    
    </summary>
    
    
      <category term="VPN" scheme="http://goldginkgo.github.io/tags/VPN/"/>
    
  </entry>
  
  <entry>
    <title>How to Set up a Blog With Hexo and Github Pages</title>
    <link href="http://goldginkgo.github.io/2017/04/04/set-up-blog/"/>
    <id>http://goldginkgo.github.io/2017/04/04/set-up-blog/</id>
    <published>2017-04-04T11:32:18.000Z</published>
    <updated>2018-12-04T00:03:14.584Z</updated>
    
    <content type="html"><![CDATA[<p>Here are a list of tutorials which I referred to when setting up my blog.<br><a id="more"></a><br><a href="https://hexo.io/zh-cn/" target="_blank" rel="noopener">Hexo</a><br><a href="https://theme-next.org" target="_blank" rel="noopener">NexT</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Here are a list of tutorials which I referred to when setting up my blog.&lt;br&gt;
    
    </summary>
    
    
      <category term="Hexo" scheme="http://goldginkgo.github.io/tags/Hexo/"/>
    
  </entry>
  
  <entry>
    <title>Git Basics</title>
    <link href="http://goldginkgo.github.io/2017/03/24/git-basics/"/>
    <id>http://goldginkgo.github.io/2017/03/24/git-basics/</id>
    <published>2017-03-24T11:03:01.000Z</published>
    <updated>2018-12-03T23:48:41.789Z</updated>
    
    <content type="html"><![CDATA[<h3 id="What-is-Git"><a href="#What-is-Git" class="headerlink" title="What is Git?"></a>What is Git?</h3><p>Distributed version control system and source code management system.<br>Git can keep track of changes.<br><a id="more"></a></p><h3 id="GIT-vs-SVN"><a href="#GIT-vs-SVN" class="headerlink" title="GIT vs SVN?"></a>GIT vs SVN?</h3><p>SVN uses a central server to store all files and enables team collaboration.<br>If the central server goes down, no one can collaborate at all.</p><p>Git checkout fully mirror the repository.<br>If the server goes down, then the repository from any client can be copied back to the server to restore it. And we can perform many operations when you are offline.</p><h3 id="Advantages-of-GIT"><a href="#Advantages-of-GIT" class="headerlink" title="Advantages of GIT?"></a>Advantages of GIT?</h3><p>Free and open source<br>Fast and small ( most of the operations are performed locally)<br>Implicit backup ( Data on any client side mirrors the repository)<br>Easier branching (CVCS will copy all the codes to the new branch, so it is time-consuming)</p><h3 id="How-can-conflict-in-git-resolved"><a href="#How-can-conflict-in-git-resolved" class="headerlink" title="How can conflict in git resolved?"></a>How can conflict in git resolved?</h3><p>To resolve the conflict in git, edit the files to fix the conflicting changes and then add the resolved files by running “git add” after that to commit the repaired merge,  run “git commit”.  Git remembers that you are in the middle of a merger, so it sets the parents of the commit correctly.</p><h3 id="What-is-git-rebase-and-how-can-it-be-used-to-resolve-conflicts-in-a-feature-branch-before-merge"><a href="#What-is-git-rebase-and-how-can-it-be-used-to-resolve-conflicts-in-a-feature-branch-before-merge" class="headerlink" title="What is git rebase and how can it be used to resolve conflicts in a feature branch before merge?"></a>What is git rebase and how can it be used to resolve conflicts in a feature branch before merge?</h3><p>In simple words, git rebase allows one to move the first commit of a branch to a new starting location. For example, if a feature branch was created from master, and since then the master branch has received new commits, git rebase can be used to move the feature branch to the top of master. The command effectively will replay the changes made in the feature branch at the top of master, allowing conflicts to be resolved in the process. When done with care, this will allow the feature branch to be merged into master with relative ease and sometimes as a simple fast-forward operation.</p><h3 id="Git-workflow-the-following-may-not-fully-correct"><a href="#Git-workflow-the-following-may-not-fully-correct" class="headerlink" title="Git workflow (the following may not fully correct)"></a>Git workflow (the following may not fully correct)</h3><p>clone the Git repository as a working copy<br>modify the working copy by adding/editing files<br>update the working copy by taking other developer’s changes<br>review the changes before commit.<br>commit changes. If everything is fine, then you push the changes to the repository<br>if you realize something is wrong, then you correct the last commit and push the changes to the repository</p><ol><li>Create a branch of Master</li><li>Work</li><li>Merge it back to Master when done</li></ol><p>Working Directory -&gt; Staging Area -&gt; Repository<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br><span class="line">8</span><br><span class="line">9</span><br><span class="line">10</span><br></pre></td><td class="code"><pre><span class="line">git init</span><br><span class="line">git status(inspects the contents of the working directory and staging area)</span><br><span class="line">git add file1 file2</span><br><span class="line">git add -A</span><br><span class="line">git diff( shows differences between the working directory and the staging area)</span><br><span class="line">git diff --staged( Shows the changes between HEAD (latest commit on current branch) and staging directory)</span><br><span class="line">git diff HEAD(Shows the deltas between HEAD and working dir )</span><br><span class="line">git commit -m &quot;&quot;</span><br><span class="line">git log</span><br><span class="line">git show HEAD</span><br></pre></td></tr></table></figure></p><h3 id="backtrack-in-Git"><a href="#backtrack-in-Git" class="headerlink" title="backtrack in Git"></a>backtrack in Git</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git checkout HEAD filename (Discards changes in the working directory.)</span><br><span class="line">git reset HEAD filename (Unstages file changes in the staging area.)</span><br><span class="line">git reset commit_SHA (reset to a previous commit in your commit history.)</span><br><span class="line">git revert HEAD</span><br><span class="line">git commit --amend</span><br></pre></td></tr></table></figure><h3 id="Git-branch"><a href="#Git-branch" class="headerlink" title="Git branch"></a>Git branch</h3><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br><span class="line">6</span><br><span class="line">7</span><br></pre></td><td class="code"><pre><span class="line">git branch</span><br><span class="line">git branch branch-name</span><br><span class="line">git checkout branch-name</span><br><span class="line">git checkout -b branch_name</span><br><span class="line">git merge branch-name</span><br><span class="line">git branch -d branch_name</span><br><span class="line">git rebase</span><br></pre></td></tr></table></figure><h3 id="Git-teamwork"><a href="#Git-teamwork" class="headerlink" title="Git teamwork"></a>Git teamwork</h3><p>A remote is a shared Git repository that allows multiple collaborators to work on the same Git project from different locations.<br><figure class="highlight plain"><table><tr><td class="gutter"><pre><span class="line">1</span><br><span class="line">2</span><br><span class="line">3</span><br><span class="line">4</span><br><span class="line">5</span><br></pre></td><td class="code"><pre><span class="line">git clone remote_location clone_name</span><br><span class="line">git remote -v</span><br><span class="line">git fetch</span><br><span class="line">git merge orgin/master</span><br><span class="line">git push origin your_branch_name</span><br></pre></td></tr></table></figure></p><p><a href="http://career.guru99.com/top-40-interview-questions-on-git/" target="_blank" rel="noopener">Top 45 GIT Interview Questions &amp; Answers</a></p><p><a href="http://blog.jobbole.com/88955/" target="_blank" rel="noopener">Git 使用规范流程</a></p>]]></content>
    
    <summary type="html">
    
      &lt;h3 id=&quot;What-is-Git&quot;&gt;&lt;a href=&quot;#What-is-Git&quot; class=&quot;headerlink&quot; title=&quot;What is Git?&quot;&gt;&lt;/a&gt;What is Git?&lt;/h3&gt;&lt;p&gt;Distributed version control system and source code management system.&lt;br&gt;Git can keep track of changes.&lt;br&gt;
    
    </summary>
    
      <category term="DevOps" scheme="http://goldginkgo.github.io/categories/DevOps/"/>
    
    
      <category term="Git" scheme="http://goldginkgo.github.io/tags/Git/"/>
    
  </entry>
  
  <entry>
    <title>Hello World</title>
    <link href="http://goldginkgo.github.io/2017/03/23/hello-world/"/>
    <id>http://goldginkgo.github.io/2017/03/23/hello-world/</id>
    <published>2017-03-23T12:12:18.000Z</published>
    <updated>2018-12-03T23:49:12.252Z</updated>
    
    <content type="html"><![CDATA[<p>Welcome to <a href="https://hexo.io/" target="_blank" rel="noopener">Hexo</a>! This is your very first post. Check <a href="https://hexo.io/docs/" target="_blank" rel="noopener">documentation</a> for more info. If you get any problems when using Hexo, you can find the answer in <a href="https://hexo.io/docs/troubleshooting.html" target="_blank" rel="noopener">troubleshooting</a> or you can ask me on <a href="https://github.com/hexojs/hexo/issues" target="_blank" rel="noopener">GitHub</a>.<br><a id="more"></a></p><h2 id="Quick-Start"><a href="#Quick-Start" class="headerlink" title="Quick Start"></a>Quick Start</h2><h3 id="Create-a-new-post"><a href="#Create-a-new-post" class="headerlink" title="Create a new post"></a>Create a new post</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo new <span class="string">"My New Post"</span></span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/writing.html" target="_blank" rel="noopener">Writing</a></p><h3 id="Run-server"><a href="#Run-server" class="headerlink" title="Run server"></a>Run server</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo server</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/server.html" target="_blank" rel="noopener">Server</a></p><h3 id="Generate-static-files"><a href="#Generate-static-files" class="headerlink" title="Generate static files"></a>Generate static files</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo generate</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/generating.html" target="_blank" rel="noopener">Generating</a></p><h3 id="Deploy-to-remote-sites"><a href="#Deploy-to-remote-sites" class="headerlink" title="Deploy to remote sites"></a>Deploy to remote sites</h3><figure class="highlight bash"><table><tr><td class="gutter"><pre><span class="line">1</span><br></pre></td><td class="code"><pre><span class="line">$ hexo deploy</span><br></pre></td></tr></table></figure><p>More info: <a href="https://hexo.io/docs/deployment.html" target="_blank" rel="noopener">Deployment</a></p>]]></content>
    
    <summary type="html">
    
      &lt;p&gt;Welcome to &lt;a href=&quot;https://hexo.io/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;Hexo&lt;/a&gt;! This is your very first post. Check &lt;a href=&quot;https://hexo.io/docs/&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;documentation&lt;/a&gt; for more info. If you get any problems when using Hexo, you can find the answer in &lt;a href=&quot;https://hexo.io/docs/troubleshooting.html&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;troubleshooting&lt;/a&gt; or you can ask me on &lt;a href=&quot;https://github.com/hexojs/hexo/issues&quot; target=&quot;_blank&quot; rel=&quot;noopener&quot;&gt;GitHub&lt;/a&gt;.&lt;br&gt;
    
    </summary>
    
    
  </entry>
  
</feed>
